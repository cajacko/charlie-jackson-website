<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="32x32"
      href="/favicon-32x32.png"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="16x16"
      href="/favicon-16x16.png"
    />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#4c7cb9" />
    <meta name="theme-color" content="#ffffff" />
    <title><%= meta.title %></title>
    <meta name="description" content="<%= meta.description %>" />
    <meta name="author" content="<%= meta.author %>" />

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        position: relative;
        font-size: 16px;
        font-family: helvetica, sans-serif;
        display: flex;
        flex: 1;
        line-height: 1.5;
        flex-direction: column;
      }

      html {
        background-color: #eaeaea;
      }

      h1,
      h2,
      h3,
      h4,
      p,
      ul {
        margin: 0;
        padding: 0;
        color: #001015;
        font-weight: 400;
      }

      p {
        margin: 1rem 0;
      }

      p:first-of-type {
        margin-top: 0;
      }

      p:last-of-type {
        margin-bottom: 0;
      }

      a,
      a:visited {
        color: #2305b7;
      }

      a:hover,
      a:active {
        color: #6b089a;
      }

      .section {
        display: flex;
        justify-content: center;
        position: relative;
        z-index: 1;
      }

      .section--paper {
        box-shadow: 0 0 6px #0000006b;
        position: relative;
        z-index: 2;
        border-top: 1px solid #bbbbbb;
        border-bottom: 1px solid #bbbbbb;
      }

      .content {
        max-width: 600px;
        width: 100%;
        padding: 3rem 1rem;
      }

      .primarybackground {
        background: rgb(202, 150, 0);
        background: radial-gradient(circle,rgb(255, 190, 0) 0,rgb(202, 150, 0) 100%);
      }

      .title, .subtitle {
        color: white;
        text-shadow: 0px 0px 3px #0000002b;
      }

      .title {
        text-transform: uppercase;
        font-size: 2rem;
        font-weight: bold;
      }

      .subtitle {
        font-size: 1.15rem;
      }

      .now {
        background: rgb(255, 255, 255);
      }

      .newsletter {
        background: rgb(255, 255, 255);
      }

      .heading__content {
        display: flex;
        flex-direction: row;
      }

      .headings {
        flex: 1;
        display: flex;
        justify-content: center;
        flex-direction: column;
      }

      .image {
        border-radius: 50%;
        height: 150px;
        width: 150px;
        box-shadow: 1px 1px 6px 0px #0000007a;
      }

      .links {
        background: #161a2e;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 999999;
        box-shadow: 0 0 6px #0000006b;
      }

      .links__content {
        padding: 1rem;
      }

      .links__list {
        list-style: none;
        flex-flow: wrap;
        display: flex;
      }

      .links__item {
        flex: 1;
        display: flex;
        padding: 0 0.5rem;
      }

      .icon,
      .icon:visited {
        flex: 1;
        justify-content: center;
        cursor: pointer;
        display: flex;
      }

      .icon:hover,
      .icon:active {
        opacity: 0.6;
      }

      .icon svg {
        height: 2rem;
      }

      .icon path {
        fill: white;
      }

      .newsletter {
        background-color: #eaeaea;
      }

      .newsletter__content {
        display: flex;
        align-items: center;
      }

      .newsletter__text {
        font-size: 1.25rem;
        flex: 1;
        margin-right: 1rem;
      }

      .newsletter__link {
        background: #efb200;
        border: 1px solid #cb9700;
        font-size: 1.15rem;
        text-transform: uppercase;
        color: #fff!important;
        text-decoration: none!important;
        padding: .5rem 1rem;
        box-shadow: 0px 0px 4px #00000045;
        text-shadow: 0px 0px 4px #00000063;
      }

      .newsletter__link:hover {
        opacity: 0.8;
      }

      .shows {
        background: white;
      }

      .shows__heading {
        text-transform: uppercase;
        font-weight: bold;
      }

      .shows__list, .show__list {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .show {
        background-color: #fff;
        box-shadow: 0px 0px 4px #0000004f;
        padding: 1rem;
        margin: 1rem 0;
      }

      .show__list {
        margin-top: 0.5rem;
      }

      .main {
        padding-bottom: 8rem;
      }

    </style>
  </head>
  <body>
    <main id="main" class="main">
    <section class="section heading primarybackground">
      <div class="content heading__content">
        <div class="headings">
      <h1 class="title"><%= title %></h1>
      <h2 class="subtitle"><%= heading %></h2>
    </div>
      <img class="image" src="<%- backgroundImage %>" />
    </div>
    </section>

    <section class="section section--paper now">
      <div class="content">
      <% now.forEach(function(paragraph){ %>
      <p class="paragraph"><%- paragraph %></p>
      <% }); %>
      <p class="contact"><%- contact %></p>
    </div>
    </section>
    <section class="newsletter section">
      <div class="content newsletter__content">
      <p class="newsletter__text"><%- newsletter.text %></p>
      <a class="newsletter__link" target="_blank" href="<%- newsletter.href %>"
        ><%- newsletter.buttonText %></a
      >
    </div>
    </section>
    <% if (shows && shows.length) { %>
    <section class="shows section section--paper">
      <div class="content">
      <h3 class="shows__heading"><%- showsHeading %></h3>
      <ul class="shows__list">
        <% shows.forEach(function(show){ %>
        <li class="show">
          <h4 class="show__heading">
            <% if (show.link) { %><a target="_blank" class="show__link" href="<%- show.link %>"
              ><%- show.title %></a
            ><% } else { %><%- show.title %><% } %>
          </h4>
          <ul class="show__list">
            <li class="show__date">- Date: <%- show.date %></li>
            <% if (show.location) { %>
            <li class="show__location">- Location: <%- show.location %></li>
            <% } %> <% if (show.price) { %>
            <li class="show__price">- Price: <%- show.price %></li>
            <% } %> <% if (show.link) { %>
            <li class="show__linkitem">
              - Link:
              <a class="show__link" target="_blank" href="<%- show.link %>"><%- show.link %></a>
            </li>
            <% } %>
          </ul>
        </li>
        <% }); %>
      </ul>
    </div>
    </section>
    <% } %>
  </main>

    <footer id="links" class="section links">
      <div class="content links__content">
      <ul class="links__list">
        <% icons.forEach(function(icon){ %>
        <li class="links__item">
          <a class="icon" target="_blank" href="<%= icon.href %>"><%- icon.icon %></a>
        </li>
        <% }); %>
      </div>
      </ul>
    </footer>

    <script>
      var links = document.getElementById('links');
      var main = document.getElementById('main');

      function setLinksSpacing() {
        main.setAttribute("style", "padding-bottom: " + links.clientHeight + "px")
      }

      setLinksSpacing();

      window.onresize = setLinksSpacing;
    </script>
  </body>
</html>
